//knockout-kendo v0.1.0 | (c) 2012 Ryan Niemeyer | http://www.opensource.org/licenses/mit-license
(function(a,b,c){a.kendo=a.kendo||{},a.kendo.BindingFactory=function(){var c=this;this.createBinding=function(d){if(!b()[d.parent||d.name])return;var e={};e.init=function(a,b,f){var g=c.buildOptions(d,b);if(g.async===!0||d.async===!0){setTimeout(function(){e.setup(a,g)},0);return}e.setup(a,g)},e.setup=function(e,f){var g,h=b(e);c.handleEvents(d.events,f,function(){return h.data(d.name)}),g=c.getWidget(d,f,h),c.watchValues(g,f,d,e),g.destroy&&a.utils.domNodeDisposal.addDisposeCallback(e,function(){g.destroy()})},e.options={},e.widgetConfig=d,a.bindingHandlers[d.bindingName||d.name]=e},this.buildOptions=function(b,c){var d=b.defaultOption,e=a.utils.extend({},a.bindingHandlers[b.name].options),f=a.utils.unwrapObservable(c());return typeof f!="object"||d&&!(d in f)?e[d]=c():a.utils.extend(e,f),e},this.getWidget=function(b,c,d){var e;if(b.parent){var f=d.closest("[data-bind*="+b.parent+":]");e=f.length?f.data(b.parent):null}else e=d[b.name](a.toJS(c)).data(b.name);return a.isObservable(c.widget)&&c.widget(e),e},this.watchValues=function(b,d,e,f){var g,h=e.watch;if(h)for(g in h)h.hasOwnProperty(g)&&a.isObservable(d[g])&&c.watchOneValue(g,b,d,e,f)},this.watchOneValue=function(c,d,e,f,g){a.computed({read:function(){var h=f.watch[c],i=a.utils.unwrapObservable(e[c]),j=f.parent?[g,i]:[i];b.isArray(h)?h=d[i?h[0]:h[1]]:typeof h=="string"&&(h=d[h]),h&&h.apply(d,j)},disposeWhenNodeIsRemoved:g})},this.handleEvents=function(b,d,e){var f,g;if(b)for(f in b)b.hasOwnProperty(f)&&(g=b[f],g=typeof g=="string"?{value:g,writeTo:g}:g,a.isObservable(d[g.writeTo])&&c.handleOneEvent(f,g,d,e))},this.handleOneEvent=function(a,b,c,d){var e=c[a];c[a]=function(){var a=b.value,f=d(),g=typeof a=="string"&&f[a]?f[a]():a;c[b.writeTo](g),e&&e.apply(this,arguments)}}},a.kendo.bindingFactory=new a.kendo.BindingFactory;var d=a.kendo.bindingFactory.createBinding.bind(a.kendo.bindingFactory),e="close",f="collapse",g="content",h="data",i="disable",j="enable",k="expand",l="enabled",m="expanded",n="isOpen",o="max",p="min",q="open",r="search",s="select",t="selected",u="size",v="title",w="value",x="values";d({name:"kendoAutoComplete",events:{change:w,open:{writeTo:n,value:!0},close:{writeTo:n,value:!1}},watch:{enabled:j,search:[r,e],data:function(a){this.dataSource.data(a)},value:w}}),d({name:"kendoCalendar",defaultOption:w,events:{change:w},watch:{max:o,min:p,value:w}}),d({name:"kendoComboBox",events:{change:w,open:{writeTo:n,value:!0},close:{writeTo:n,value:!1}},watch:{enabled:j,isOpen:[q,e],data:function(a){this.dataSource.data(a)},value:w}}),d({name:"kendoDatePicker",defaultOption:w,events:{change:w,open:{writeTo:n,value:!0},close:{writeTo:n,value:!1}},watch:{enabled:j,max:o,min:p,value:w,isOpen:[q,w]}}),d({name:"kendoDropDownList",events:{change:w,open:{writeTo:n,value:!0},close:{writeTo:n,value:!1}},watch:{enabled:j,isOpen:[q,e],data:function(a){this.dataSource.data(a)},value:w}}),d({name:"kendoEditor",defaultOption:w,events:{change:w},watch:{enabled:j,value:w}}),d({name:"kendoGrid",defaultOption:h,watch:{data:function(a){this.dataSource.data(a)}}}),d({name:"kendoListView",defaultOption:h,watch:{data:function(a){this.dataSource.data(a)}}}),d({name:"kendoMenu",async:!0}),d({name:"kendoMenuItem",parent:"kendoMenu",watch:{enabled:j,isOpen:[q,e]},async:!0}),d({name:"kendoNumericTextBox",defaultOption:w,events:{change:w},watch:{enabled:j,value:w}}),d({name:"kendoPanelBar",async:!0}),d({name:"kendoPanelItem",parent:"kendoPanelBar",updateableOptions:[j],watch:{enabled:j,expanded:[k,f]},async:!0}),d({name:"kendoRangeSlider",defaultOption:x,events:{change:x},watch:{values:x,enabled:[j,i]}}),d({name:"kendoSlider",defaultOption:w,events:{change:w},watch:{value:w,enabled:[j,i]}}),d({name:"kendoSplitter",async:!0}),d({name:"kendoSplitterPane",parent:"kendoSplitter",watch:{max:o,min:p,size:u,expanded:[k,f]},async:!0}),d({name:"kendoTabStrip",async:!0}),d({name:"kendoTab",parent:"kendoTabStrip",watch:{selected:function(a,b){this.select(b?a:null)},enabled:j},async:!0}),d({name:"kendoTimePicker",defaultOption:w,events:{change:w},watch:{max:o,min:p,value:w,enabled:j,isOpen:[q,e]}}),d({name:"kendoTreeView",async:!0}),d({name:"kendoTreeItem",parent:"kendoTreeView",watch:{enabled:j,expanded:[k,f],select:function(a,b){this.select(b?a:null)}},async:!0}),d({name:"kendoUpload",watch:{enabled:[j,i]}}),d({name:"kendoWindow",events:{open:{writeTo:n,value:!0},close:{writeTo:n,value:!1}},watch:{content:g,title:v,isOpen:[q,e]}})})(ko,jQuery)